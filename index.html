<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>НРК — оцінювання (2026 | порівняння + висновок)</title>
  <link rel="stylesheet" href="styles.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

</head>
<body>

<header>
  <div class="wrap">
    <h1>НРК — оцінювання (2026 | порівняння + висновок)</h1>
    <p class="sub">Обери модель → заповни бали + коментарі → сформуй висновок → порівняй → експорт.</p>

    <div class="tabs" role="tablist">
      <button class="tab active" data-tab="t1">1) Довідник</button>
      <button class="tab" data-tab="t2">2) Оцінка</button>
      <button class="tab" data-tab="t3">3) Чек-лист</button>
      <button class="tab" data-tab="t4">4) Експорт</button>
      <button class="tab" data-tab="t5">5) Порівняння</button>
    </div>
  </div>
</header>

<main class="wrap">

  <!-- TAB 1 Довідник -->
  <section id="t1" class="grid cols2">

    <div class="card">
      <div class="stickyBox">
        <h2>Довідник моделей (автозаповнення)</h2>

        <div class="row">
  <div style="flex:2; min-width:280px">
    <label>Пошук (виробник або назва)</label>

    <div class="autocomplete">
  <input id="presetSearch" placeholder="Пошук: виробник або назва НРК">
  <input type="hidden" id="selectedPresetKey">
  <div id="presetSuggestions" class="hide"></div>
</div>


    <div class="small" style="margin-top:6px">
      Порада: пиши 2–3 символи — з’являться варіанти. Стрілки ↑↓ + Enter теж працюють.
    </div>
  </div>

  <div class="btnCol">
    <label>&nbsp;</label>
    <button class="primary" type="button" id="applyPresetBtn" disabled>Заповнити</button>
  </div>
</div>


        <!-- KPI замість ID -->
        <div class="kpiTop" id="kpiTop"></div>
        <p class="small">
          <b>Пояснення KPI:</b>
          <br>• <b>грн/кг</b> — скільки коштує 1 кг корисного навантаження (чим менше — тим краще).
          <br>• <b>грн/(кг·км)</b> — ціна за “перевезення” (навантаження × запас ходу).
        </p>

        <div class="divider"></div>

        <div class="photoBox">
          <div class="photoFrame">
            <img id="nrkPhoto" alt="Фото НРК" />
            <div class="noPhoto" id="noPhoto">Фото</div>
          </div>
          <div class="photoMeta">
  <div class="pill">Модель: <strong id="photoModel">—</strong></div>
  <div class="pill">Виробник: <strong id="photoMaker">—</strong></div>

  <div class="pill">Контакт: <strong id="photoContact">—</strong></div>

  <div class="pill" style="gap:10px; flex-wrap:wrap">
   Телефон:
    <strong>
      <a id="contactLink" href="#"
         style="color:inherit; text-decoration:none;">
        —
      </a>
    </strong>
   <button id="copyContactBtn" class="iconBtn" type="button" title="Скопіювати номер">
  <i class="fa-solid fa-copy"></i>
</button>

  </div>
</div>

        </div>
      </div>

      <div class="divider"></div>

      <h2>Основні характеристики</h2>

      <!-- Компактно: 2 колонки на десктопі -->
      <div class="formGrid">
  <div>
    <label>Виробник</label>
    <input id="maker"/>
  </div>

  <div>
    <label>Назва БеНК</label>
    <input id="model"/>
  </div>

  <div>
    <label>Орієнтовна ціна, грн</label>
    <input id="price" type="number" min="0"/>
  </div>

  <div>
    <label>Силова установка</label>
    <input id="power"/>
  </div>

  <div>
    <label>Маса, кг</label>
    <input id="mass" type="number" min="0"/>
  </div>

  <div>
    <label>Розміри, мм (ДхШхВ)</label>
    <input id="dims" placeholder="2155x1509x904"/>
  </div>

  <div>
    <label>Корисне навантаження, кг</label>
    <input id="payloadNom" type="number" min="0"/>
  </div>

  <div>
    <label>Макс швид., км/год</label>
    <input id="maxSpeed" type="number" min="0"/>
  </div>

  <div>
    <label>Запас ходу, км</label>
    <input id="rangeRoad" type="number" min="0"/>
  </div>

  <div>
    <label>Кліренс, мм</label>
    <input id="clearance" type="number" min="0"/>
  </div>

  <div>
    <label>Кут підйому, °</label>
    <input id="climb" type="number" min="0"/>
  </div>

  <div>
    <label>Кут крену, °</label>
    <input id="tilt" type="number" min="0"/>
  </div>

  <div>
    <label>Оптична</label>
    <select id="optical"><option value="-">-</option><option value="+">+</option></select>
  </div>

  <div>
    <label>Оптична з ІЧ</label>
    <select id="opticalIR"><option value="-">-</option><option value="+">+</option></select>
  </div>

  <div>
    <label>Тепловізійна</label>
    <select id="thermal"><option value="-">-</option><option value="+">+</option></select>
  </div>

  <div>
    <label>Радіо, км</label>
    <input id="radioKm" type="number" step="0.1" min="0"/>
  </div>

  <div>
    <label>Starlink</label>
    <select id="starlink"><option value="-">-</option><option value="+">+</option></select>
  </div>

  <div>
    <label>LTE</label>
    <select id="lte"><option value="-">-</option><option value="+">+</option></select>
  </div>
</div>


      <label>Примітки</label>
      <textarea id="notes" placeholder="Комплектація, обмеження, нюанси, що впливає на ціну..."></textarea>

      <div class="btnrow">
        <button class="primary" id="saveBtn">Зберегти</button>
        <button class="ghost" id="loadBtn">Завантажити</button>
        <button class="danger" id="clearBtn">Очистити форму</button>
      </div>

      <p class="small">
        <b>Як працює “Зберегти/Завантажити”:</b> дані зберігаються локально в браузері (localStorage).  
        Для завантаження просто введи <b>Назву</b> (модель) і натисни “Завантажити” — система знайде останній запис.
      </p>
    </div>

    <div class="card">
      <h2>Швидкі KPI (повтор)</h2>
      <div class="kpi" id="kpi"></div>
      <p class="small">Те саме, що зверху. Залишив тут як дубль для зручності.</p>
    </div>
  </section>

  <!-- TAB 2 Оцінка -->
  <section id="t2" class="grid cols2 hide">
    <div class="card">
      <h2>Критерії 0–5 + коментарі</h2>
      <p class="small">Постав бали та додай зауваження. Натисни “Довідка” біля критерію — там опис як ставити 0/3/5 і що питати.</p>
      <div id="criteriaList"></div>
      <div class="btnrow">
        <button class="primary" id="calcBtn">Порахувати</button>
        <button class="primary" id="generateConclusionBtn">Сформувати висновок</button>
        <button class="ghost" id="saveScoreBtn">Зберегти оцінку</button>
      </div>
      <div class="divider"></div>
      <div id="validationBox" class="small err"></div>
    </div>

    <div class="card">
      <h2>Результат</h2>
      <div class="kpi">
        <span class="pill">Бал: <strong id="finalScore">—</strong></span>
        <span class="pill">Рішення: <strong id="finalDecision">—</strong></span>
      </div>
      <div class="divider"></div>
      <div class="kpi">
        <span class="badge" id="riskBadge">Світлофор: <strong id="riskText">—</strong></span>
        <span class="pill">Мін. ключовий: <strong id="minKey">—</strong></span>
      </div>
      <div class="divider"></div>
      <h2>Загальні зауваження комісії</h2>
      <textarea id="commissionNotes" placeholder="Загальні коментарі по моделі..."></textarea>
    </div>
  </section>

  <!-- TAB 3 Чек-лист -->
  <section id="t3" class="grid hide">
    <div class="card">
      <h2>Чек-лист демонстрації (✔/✖)</h2>
      <p class="small">Розширений список під 1–2 лінію (зв’язок/Fail-safe/РЕБ/навантаження/ходова/електрика/сервіс).</p>
      <div id="checklist"></div>
      <div class="btnrow">
        <button class="primary" id="saveChkBtn">Зберегти чек-лист</button>
        <button class="ghost" id="resetChkBtn">Скинути позначки</button>
      </div>
    </div>
  </section>

  <!-- TAB 4 Експорт -->
  <section id="t4" class="grid hide">
    <div class="card">
      <h2>Експорт</h2>
      <p class="small">Експорт усіх збережених оцінок в Excel (.xls).</p>
      <div class="btnrow">
        <button class="primary" id="exportExcelBtn">Експорт в Excel</button>
        <button class="danger" id="wipeAllBtn">Видалити всі дані</button>
      </div>
    </div>
  </section>

  <!-- TAB 5 Порівняння -->
  <section id="t5" class="grid hide">
    <div class="card">
      <h2>Порівняння моделей</h2>
      <p class="small">Оберіть моделі з довідника (до 4, утримуючи Ctrl)</p>
      <select id="compareSelect" multiple size="10"></select>
      <div class="btnrow">
        <button class="primary" id="buildCompareBtn">Порівняти</button>
        <button class="ghost" id="clearCompareBtn">Очистити</button>
      </div>
      <div id="compareTable" style="margin-top:20px; overflow-x:auto"></div>
    </div>
  </section>
</main>

<!-- Модалка висновку -->
<div class="modalOverlay" id="conclusionModal">
  <div class="modal">
    <h3>Висновок за результатами оцінки</h3>
    <div class="meta" id="conclusionMeta"></div>
    <div class="box" id="conclusionText"></div>
    <div class="modalCloseRow">
      <button class="primary" id="copyConclusion">Копіювати в буфер</button>
      <button class="ghost" id="closeConclusion">Закрити</button>
    </div>
  </div>
</div>

<!-- Модалка довідки -->
<div class="modalOverlay" id="modalOverlay">
  <div class="modal">
    <h3 id="modalTitle">Довідка</h3>
    <div class="meta" id="modalMeta"></div>
    <div class="box" id="modalScale"></div>
    <div class="box" id="modalHow"></div>
    <div class="box" id="modalQuestions"></div>
    <div class="modalCloseRow">
      <button class="ghost" id="modalCloseBtn">Закрити</button>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
